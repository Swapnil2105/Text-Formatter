<div class="d-flex justify-content-center">
  <div class="w-50">
    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
      class="border border-black p-4"
    >
      <div class="text-center fs-3 formtitle">{{ title }}</div>

      <div class="mb-3">
        <label for="dbname" class="form-label">Database Name</label>
        <input
          type="text"
          class="form-control"
          formControlName="dbname"
          id="dbname"
          placeholder="Enter Database Name"
        />
        <div
          class="text-danger"
          *ngIf="
            form.get('dbname')?.invalid &&
            (form.get('dbname')?.dirty || form.get('dbname')?.touched)
          "
        >
          <span *ngIf="form.get('dbname')?.errors?.['required']"
            >Database Name is required.</span
          >
          <span *ngIf="form.get('dbname')?.errors?.['pattern']"
            >Special Characters are not allowed</span
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="portnumber" class="form-label">Port Number</label>
        <input
          type="number"
          class="form-control"
          formControlName="portnumber"
          id="portnumber"
          placeholder="Port Number"
        />
        <div
          class="text-danger"
          *ngIf="
            form.get('portnumber')?.invalid &&
            (form.get('portnumber')?.dirty || form.get('portnumber')?.touched)
          "
        >
          <span *ngIf="form.get('portnumber')?.errors?.['required']"
            >Port number is required.</span
          >
          <span *ngIf="form.get('portnumber')?.errors?.['pattern']"
            >Port number should be valid</span
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="dbpassword" class="form-label">Password</label>
        <input
          type="password"
          class="form-control"
          formControlName="dbpassword"
          id="dbpassword"
          placeholder="Password"
        />
        <div
          class="text-danger"
          *ngIf="
            form.get('dbpassword')?.invalid &&
            (form.get('dbpassword')?.dirty || form.get('dbpassword')?.touched)
          "
        >
          <span *ngIf="form.get('dbpassword')?.errors?.['required']"
            >Password is required.</span
          >
          <span *ngIf="form.get('dbpassword')?.errors?.['minlength']"
            >Password minimum length should be 7.</span
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="dburl" class="form-label">Database Url</label>
        <input
          type="url"
          class="form-control"
          formControlName="dburl"
          id="dburl"
          placeholder="URL"
        />
        <div
          class="text-danger"
          *ngIf="
            form.get('dburl')?.invalid &&
            (form.get('dburl')?.dirty || form.get('dburl')?.touched)
          "
        >
          <span *ngIf="form.get('dburl')?.errors?.['required']"
            >URL is required.</span
          >
          <span *ngIf="form.get('dburl')?.errors?.['pattern']"
            >This is not a correct URL.</span
          >
        </div>
      </div>

      <div class="text-center">
        <button type="reset" class="btn btn-secondary">Cancel</button>
        <button
          type="submit"
          class="btn btn-secondary ms-3"
          [disabled]="!form.valid"
        >
          Submit
        </button>
      </div>
    </form>
  </div>
</div>

<div class="justify-content-center text-align-center row">
  <div class="col-12"><div class="w-50 m-auto my-2">Entries:</div></div>
  <div class="border border-black rounded p-4 col-12 w-50">
    <div class="mt-3">
      <div *ngFor="let form of storedForms" class="stored-form">
        <p><strong>Database Name:</strong> {{ form.dbname }}</p>
        <p><strong>Port Number:</strong> {{ form.portnumber }}</p>
        <p><strong>Database URL:</strong> {{ form.dburl }}</p>
        <hr />
      </div>
    </div>
  </div>
</div>
